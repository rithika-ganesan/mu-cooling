########### output ###########

param outdir=../output

########## physics ###########

physics QGSP_BIC doStochastics=0

param part=mu+ # particle
param nbeamevents=100 # number of beam events

# constants
param m=105.7 # muon mass in MeV
param c=2.997925*10^8 # speed of light in m/s
param pi=3.1415926 #pi

param to_degrees=180/$pi
param to_radians=$pi/180

########### params ###########

# reference particle:
param dp=0 #MeV/c -> displacement 
param p=200+$dp #MeV/c
param v=$p*$c/sqrt($p^2+($m*$c)^2)

# solenoid:
param sol_ir=400.0 # solenoid inner radius in mm
param sol_t=100.0 # solenoid thickness in mm
param sol_or=$sol_ir+$sol_t # solenoid outer radius in mm
param sol_len=400.0 # solenoid length in mm
param sol_current=100.0 # solenoid current in amps/mm^2
param sol_pitch=0.0 # solenoid pitch in degrees
param period_len=1000.0 #mm

# beam:
param dx=0 #mm
param dy=0 #mm
param dxp=0 #radians
param dyp=0 #radians

param X=0 # beam location in X mm
param Y=0 # beam location in Y mm
param Xp=0 #radians
param Yp=0 #radians

###### define elements #######

# beam:
beam gaussian particle=$part \ 
	meanMomentum=$p \
	nEvents=$nbeamevents \
	beamZ=0.0 \			# beam location in Z (mm)
	beamX=$X beamY=$Y \		# beam location in X and Y resp. (mm)
	beamXp=$Xp beamYp=$Yp \		# beam mean in X and Y (slope)
	sigmaX=10.0 sigmaY=10.0 \	# beam sigma in X and Y (mm)
	sigmaXp=0.1 sigmaYp=0.1 \	# beam sigma in dxdx and dydz resp. (slope)
	sigmaP=0.0 \			# beam sigma in momentum p
	meanT=0.0 sigmaT=1.0		# beam mean/sigma in time t  

# reference particle:
reference particle=$part \
	referenceMomentum=$p \
	beamZ=0.0 \
	beamX=$X beamY=$Y \ 
	beamXp=$Xp beamYp=$Yp

# detectors:

# solenoids:
coil coil innerRadius=$sol_ir outerRadius=$sol_or length=$sol_len \
	tolerance=0.0 \ #non-zero sometimes
	filename=.coil.dat #hide coil file

solenoid SolPos coilName=coil current=$sol_current color=1,0,0
solenoid SolNeg coilName=coil current=-$sol_current color=0,0,1

####### place elements #######





# visualize magnetic field lines:
fieldlines center=0,0,0

# trace:
# set nTrace non-zero to track particles other than reference/tune
# set oneNTuple=0 for individual file for each particle
trace nTrace=0 format=ascii oneNTuple=1 filename=$outdir/trace.txt





